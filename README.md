# Проєкт Взаємодії з Трембітою

Цей проєкт входить в набір прикладів взаємодії з API шлюзу безпечного обміну системи Трембіта (ШБО), що демонструють технічні особливості розробки вебсервісів та вебклієнтів, сумісних з системою Трембіта. Даний проєкт описує створення сумісного REST-клієнта на мові програмування Python з використанням фреймворку Flask для здійснення викликів REST API через ШБО.\
Приклад описує отримання з умовної бази даних (реєстру) відомості про інформаційні об’єкти (у прикладі об’єктом є користувач) та управління їх статусом, у тому числі відправку запитів на пошук, отримання, створення, редагування та видалення об’єктів через REST API.\
Додатково розглянуто функції API ШБО для завантаження архівів з підписаними електронними повідомленнями-запитами, повідомленнями-відповідями у вигляді ASiC-контейнерів, а також генерацію ключів і сертифікатів для взаємної автентифікації між REST-клієнтом та ШБО.


## Вимоги
- Python 3.10+
- Git (для клонування репозиторію)
- Ubuntu Server 24.04
  
## Структура проєкту

Структура проєкту виглядає наступним чином:

```
web-client_trembita_sync/
├── Dockerfile                    # Докер файл для контейнерезації застосунку   
├── LICENSE                       # Ліцензія
├── README.Docker.md              # Документація
├── README.md                     # Документація
├── app.py                        # Точка входу застосунку
├── asic                          # Папка для збереженя асік контейнерів з результатами обмінів
├── certs                         # Папка для ключа та сертифіката додатку для https, та для сертифікату ШБО 
│    ├── cert.pem       
│    └── key.pem
├── compose.yaml                    
├── config.ini                    # Конфігураційний файл застосунку
├── deploy.sh                     # Скрипт автоматичного встановлення
├── docs                          # Документація 
│    ├── docker_installation.md   # Документація
│    ├── manual_installation.md   # Документація
│    └── script_installation.md   # Документація
├── remove.sh                     # Скрипт автоматичного видалення
├── requirements.txt              # Залежності застосунку
├── templates                     # Папка з шаблонами веб сторінок застосунку 
│    ├── create_person.html       # Шаблон веб сторінки
│    ├── error.html               # Шаблон веб сторінки
│    ├── list_certs.html          # Шаблон веб сторінки
│    ├── list_files.html          # Шаблон веб сторінки
│    ├── list_person.html         # Шаблон веб сторінки
│    ├── navbar.html              # Шаблон веб сторінки
│    ├── search_form.html         # Шаблон веб сторінки
│    └── user_form.html           # Шаблон веб сторінки
└── utils.py                      # Бібліотека взаемодії з Трембітою
```
## Розгортання

- Для ручного розгортання дивіться [тут](./docs/manual_installation.md).
- Для розгортання за допомогою скрипта дивіться [тут](./docs/script_installation.md).
- Для розгортання у Docker дивіться [тут](./docs/docker_installation.md).

## Видалення

Ми додали скрипт `remove.sh` для автоматизації процесу видалення сервісу та очищення системи.
Скрипт працює лише у випадку якщо проєкт було розгорнуто також за допомогою скрипту автоматичного розгортання.

### Використання скрипта remove.sh

1. Зробіть файл виконуваним:

   ```bash
   chmod +x remove.sh
   ```

2. Запустіть скрипт:

   ```bash
   ./remove.sh
   ```

Скрипт автоматично зупинить та видалить системний сервіс, видалить віртуальне середовище, клонований репозиторій та системні залежності. 


## Внесок

Якщо ви хочете зробити свій внесок у проєкт, будь ласка, створіть форк репозиторію і відправте Pull Request.

## Ліцензія

Цей проект ліцензується відповідно до умов MIT License.
